<!DOCTYPE html>
<html lang="en-US">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <title>Advanced Series — Miscellaneous | Komodo Documentation</title>
    <meta name="description" content="Documentation for developers building on Komodo">
    <meta name="generator" content="VuePress 1.3.0">
    <script>(function(w,d,s,l,i){w[l]=w[l]||[];w[l].push({'gtm.start':
new Date().getTime(),event:'gtm.js'});var f=d.getElementsByTagName(s)[0],
j=d.createElement(s),dl=l!='dataLayer'?'&l='+l:'';j.async=true;j.src=
'https://www.googletagmanager.com/gtm.js?id='+i+dl;f.parentNode.insertBefore(j,f);
})(window,document,'script','dataLayer','GTM-PC28587');</script>
  <link rel="icon" href="KMD_Mark_Black.png">
  <meta name="twitter:card" content="summary_large_image">
  <meta name="twitter:card" content="summary_large_image">
  <meta name="twitter:site" content="@komodoplatform">
  <meta name="twitter:title" content="Komodo Documentation">
  <meta name="twitter:description" content="Documentation for developers building on the Komodo Platform">
  <meta name="twitter:image" content="https://docs.komodoplatform.com/Dev_Docs_Introduction_small.png">
    <link rel="preload" href="/assets/css/0.styles.0354eaf6.css" as="style"><link rel="preload" href="/assets/js/app.1a53fef3.js" as="script"><link rel="preload" href="/assets/js/3.dd471acb.js" as="script"><link rel="preload" href="/assets/js/6.10530d4e.js" as="script"><link rel="preload" href="/assets/js/45.76c68637.js" as="script"><link rel="prefetch" href="/assets/js/10.96978a4c.js"><link rel="prefetch" href="/assets/js/100.a171b7dc.js"><link rel="prefetch" href="/assets/js/101.dd602cf6.js"><link rel="prefetch" href="/assets/js/102.22668be3.js"><link rel="prefetch" href="/assets/js/103.882f76a9.js"><link rel="prefetch" href="/assets/js/104.8450c394.js"><link rel="prefetch" href="/assets/js/105.6fdc7bcc.js"><link rel="prefetch" href="/assets/js/106.b490b58f.js"><link rel="prefetch" href="/assets/js/107.22b47b5a.js"><link rel="prefetch" href="/assets/js/108.b06d5269.js"><link rel="prefetch" href="/assets/js/109.33dfeb72.js"><link rel="prefetch" href="/assets/js/11.4b8d319d.js"><link rel="prefetch" href="/assets/js/110.54019103.js"><link rel="prefetch" href="/assets/js/111.e5815803.js"><link rel="prefetch" href="/assets/js/112.ec26292d.js"><link rel="prefetch" href="/assets/js/113.1b0c6de3.js"><link rel="prefetch" href="/assets/js/114.87abd4b2.js"><link rel="prefetch" href="/assets/js/115.c08b1b03.js"><link rel="prefetch" href="/assets/js/116.8c32291a.js"><link rel="prefetch" href="/assets/js/117.8c115a69.js"><link rel="prefetch" href="/assets/js/118.c1a2c210.js"><link rel="prefetch" href="/assets/js/119.f6784455.js"><link rel="prefetch" href="/assets/js/12.4f6271d9.js"><link rel="prefetch" href="/assets/js/120.9b0218e2.js"><link rel="prefetch" href="/assets/js/121.49f6b4c5.js"><link rel="prefetch" href="/assets/js/122.ff7bea19.js"><link rel="prefetch" href="/assets/js/123.92ff68aa.js"><link rel="prefetch" href="/assets/js/124.fbbc4668.js"><link rel="prefetch" href="/assets/js/125.ff85b758.js"><link rel="prefetch" href="/assets/js/126.45dfca6e.js"><link rel="prefetch" href="/assets/js/127.195863b0.js"><link rel="prefetch" href="/assets/js/128.8d311063.js"><link rel="prefetch" href="/assets/js/129.c376cb97.js"><link rel="prefetch" href="/assets/js/13.22d7f7a8.js"><link rel="prefetch" href="/assets/js/130.85929e7e.js"><link rel="prefetch" href="/assets/js/131.91f2e11d.js"><link rel="prefetch" href="/assets/js/132.1b2cdfdc.js"><link rel="prefetch" href="/assets/js/133.3a9b78e3.js"><link rel="prefetch" href="/assets/js/134.ea9cfb3f.js"><link rel="prefetch" href="/assets/js/135.ca6690c6.js"><link rel="prefetch" href="/assets/js/136.cf25f4cc.js"><link rel="prefetch" href="/assets/js/137.b66b7bf6.js"><link rel="prefetch" href="/assets/js/138.cd1a2805.js"><link rel="prefetch" href="/assets/js/139.de2ef210.js"><link rel="prefetch" href="/assets/js/14.bdfd8e3a.js"><link rel="prefetch" href="/assets/js/140.c1c180c5.js"><link rel="prefetch" href="/assets/js/141.45d1e0c0.js"><link rel="prefetch" href="/assets/js/142.90b375e4.js"><link rel="prefetch" href="/assets/js/143.cb5d0f6c.js"><link rel="prefetch" href="/assets/js/144.2d6db4f4.js"><link rel="prefetch" href="/assets/js/145.e31c2413.js"><link rel="prefetch" href="/assets/js/146.f2170c73.js"><link rel="prefetch" href="/assets/js/147.a132afc9.js"><link rel="prefetch" href="/assets/js/148.c9286f98.js"><link rel="prefetch" href="/assets/js/149.d6c739d2.js"><link rel="prefetch" href="/assets/js/15.5a810ca3.js"><link rel="prefetch" href="/assets/js/150.4e2a116a.js"><link rel="prefetch" href="/assets/js/151.c2b99681.js"><link rel="prefetch" href="/assets/js/152.fb969650.js"><link rel="prefetch" href="/assets/js/153.4d19c63e.js"><link rel="prefetch" href="/assets/js/154.5095ab7d.js"><link rel="prefetch" href="/assets/js/155.ab945512.js"><link rel="prefetch" href="/assets/js/156.4c5e1684.js"><link rel="prefetch" href="/assets/js/157.e7a2677c.js"><link rel="prefetch" href="/assets/js/158.6ac954c7.js"><link rel="prefetch" href="/assets/js/159.8216ddb9.js"><link rel="prefetch" href="/assets/js/16.3f403ca6.js"><link rel="prefetch" href="/assets/js/160.ed2212c1.js"><link rel="prefetch" href="/assets/js/161.79746994.js"><link rel="prefetch" href="/assets/js/162.5449acc0.js"><link rel="prefetch" href="/assets/js/163.8454c742.js"><link rel="prefetch" href="/assets/js/164.434b63b3.js"><link rel="prefetch" href="/assets/js/165.5530c2c1.js"><link rel="prefetch" href="/assets/js/166.c856035a.js"><link rel="prefetch" href="/assets/js/167.2d4b047a.js"><link rel="prefetch" href="/assets/js/168.9b978aa8.js"><link rel="prefetch" href="/assets/js/169.41f9252a.js"><link rel="prefetch" href="/assets/js/17.16b23c7d.js"><link rel="prefetch" href="/assets/js/170.2c11e371.js"><link rel="prefetch" href="/assets/js/171.7b777624.js"><link rel="prefetch" href="/assets/js/172.6e679457.js"><link rel="prefetch" href="/assets/js/173.7835a0e9.js"><link rel="prefetch" href="/assets/js/174.bbb927f8.js"><link rel="prefetch" href="/assets/js/175.eff24eec.js"><link rel="prefetch" href="/assets/js/176.4717a0f3.js"><link rel="prefetch" href="/assets/js/177.4ba43011.js"><link rel="prefetch" href="/assets/js/178.293b89e3.js"><link rel="prefetch" href="/assets/js/179.46363f70.js"><link rel="prefetch" href="/assets/js/18.eebf7df9.js"><link rel="prefetch" href="/assets/js/180.90c212ee.js"><link rel="prefetch" href="/assets/js/181.4158f67a.js"><link rel="prefetch" href="/assets/js/182.84346527.js"><link rel="prefetch" href="/assets/js/183.0240fdba.js"><link rel="prefetch" href="/assets/js/184.c8d68b4a.js"><link rel="prefetch" href="/assets/js/185.e961b7ea.js"><link rel="prefetch" href="/assets/js/186.037095f0.js"><link rel="prefetch" href="/assets/js/187.88dfa833.js"><link rel="prefetch" href="/assets/js/188.5032e820.js"><link rel="prefetch" href="/assets/js/189.7be13cf6.js"><link rel="prefetch" href="/assets/js/19.7ee97e70.js"><link rel="prefetch" href="/assets/js/190.9e44ddd9.js"><link rel="prefetch" href="/assets/js/191.0a122ee4.js"><link rel="prefetch" href="/assets/js/192.2e182e1c.js"><link rel="prefetch" href="/assets/js/193.828c4104.js"><link rel="prefetch" href="/assets/js/194.51c7b234.js"><link rel="prefetch" href="/assets/js/195.4763e1d5.js"><link rel="prefetch" href="/assets/js/196.2dcaa169.js"><link rel="prefetch" href="/assets/js/197.29ef3c7d.js"><link rel="prefetch" href="/assets/js/198.4e777118.js"><link rel="prefetch" href="/assets/js/199.99966bd6.js"><link rel="prefetch" href="/assets/js/20.3d6d477f.js"><link rel="prefetch" href="/assets/js/200.72d32f20.js"><link rel="prefetch" href="/assets/js/201.2fb450cb.js"><link rel="prefetch" href="/assets/js/202.1fb6efdf.js"><link rel="prefetch" href="/assets/js/203.7280e085.js"><link rel="prefetch" href="/assets/js/204.19f1b6e6.js"><link rel="prefetch" href="/assets/js/205.029caf0e.js"><link rel="prefetch" href="/assets/js/206.8c0475bb.js"><link rel="prefetch" href="/assets/js/207.a8b3526f.js"><link rel="prefetch" href="/assets/js/208.d33065c8.js"><link rel="prefetch" href="/assets/js/209.7532d441.js"><link rel="prefetch" href="/assets/js/21.be59c7e1.js"><link rel="prefetch" href="/assets/js/210.c0f5ad68.js"><link rel="prefetch" href="/assets/js/211.802077ce.js"><link rel="prefetch" href="/assets/js/212.416e9335.js"><link rel="prefetch" href="/assets/js/213.61063b22.js"><link rel="prefetch" href="/assets/js/214.b8e63654.js"><link rel="prefetch" href="/assets/js/215.37fc946d.js"><link rel="prefetch" href="/assets/js/216.87573b8f.js"><link rel="prefetch" href="/assets/js/217.3bb4348b.js"><link rel="prefetch" href="/assets/js/218.f7c88adc.js"><link rel="prefetch" href="/assets/js/219.4e084dd7.js"><link rel="prefetch" href="/assets/js/22.199e88d8.js"><link rel="prefetch" href="/assets/js/220.3b47dbac.js"><link rel="prefetch" href="/assets/js/221.f3ae6175.js"><link rel="prefetch" href="/assets/js/222.e81271b4.js"><link rel="prefetch" href="/assets/js/223.2a8cafb4.js"><link rel="prefetch" href="/assets/js/224.9ab76c98.js"><link rel="prefetch" href="/assets/js/225.fabc8dbe.js"><link rel="prefetch" href="/assets/js/226.e0213365.js"><link rel="prefetch" href="/assets/js/227.6bde0cb9.js"><link rel="prefetch" href="/assets/js/228.54910196.js"><link rel="prefetch" href="/assets/js/229.d32fde70.js"><link rel="prefetch" href="/assets/js/23.68d15e7d.js"><link rel="prefetch" href="/assets/js/230.30b1008b.js"><link rel="prefetch" href="/assets/js/231.fd5435b6.js"><link rel="prefetch" href="/assets/js/232.b1344d03.js"><link rel="prefetch" href="/assets/js/233.6f17d589.js"><link rel="prefetch" href="/assets/js/234.9af278d0.js"><link rel="prefetch" href="/assets/js/235.5c615ab9.js"><link rel="prefetch" href="/assets/js/236.526fc0ce.js"><link rel="prefetch" href="/assets/js/237.780ee174.js"><link rel="prefetch" href="/assets/js/238.d04c4853.js"><link rel="prefetch" href="/assets/js/239.150d1296.js"><link rel="prefetch" href="/assets/js/24.ade0aa24.js"><link rel="prefetch" href="/assets/js/240.5f18e6f6.js"><link rel="prefetch" href="/assets/js/241.72f6b5f3.js"><link rel="prefetch" href="/assets/js/242.f6f66f3f.js"><link rel="prefetch" href="/assets/js/243.948f2158.js"><link rel="prefetch" href="/assets/js/244.acb12507.js"><link rel="prefetch" href="/assets/js/245.086fa5fb.js"><link rel="prefetch" href="/assets/js/246.814386ce.js"><link rel="prefetch" href="/assets/js/247.4115bf60.js"><link rel="prefetch" href="/assets/js/248.fb8b692f.js"><link rel="prefetch" href="/assets/js/249.406cac35.js"><link rel="prefetch" href="/assets/js/25.6d03d86b.js"><link rel="prefetch" href="/assets/js/250.a763fb9f.js"><link rel="prefetch" href="/assets/js/26.55359ed6.js"><link rel="prefetch" href="/assets/js/27.129a7021.js"><link rel="prefetch" href="/assets/js/28.e2350fcb.js"><link rel="prefetch" href="/assets/js/29.d8ab8e6b.js"><link rel="prefetch" href="/assets/js/30.d0e87f04.js"><link rel="prefetch" href="/assets/js/31.00c9d891.js"><link rel="prefetch" href="/assets/js/32.8c73b232.js"><link rel="prefetch" href="/assets/js/33.7e8e3b8a.js"><link rel="prefetch" href="/assets/js/34.05971236.js"><link rel="prefetch" href="/assets/js/35.de959b5b.js"><link rel="prefetch" href="/assets/js/36.3bdcdf13.js"><link rel="prefetch" href="/assets/js/37.c9badc70.js"><link rel="prefetch" href="/assets/js/38.566399d0.js"><link rel="prefetch" href="/assets/js/39.bba5d195.js"><link rel="prefetch" href="/assets/js/4.00eed2d1.js"><link rel="prefetch" href="/assets/js/40.4ec99b12.js"><link rel="prefetch" href="/assets/js/41.030a4541.js"><link rel="prefetch" href="/assets/js/42.08c46df2.js"><link rel="prefetch" href="/assets/js/43.ee83c637.js"><link rel="prefetch" href="/assets/js/44.02d844da.js"><link rel="prefetch" href="/assets/js/46.e19fbe09.js"><link rel="prefetch" href="/assets/js/47.d9502ae1.js"><link rel="prefetch" href="/assets/js/48.2c975097.js"><link rel="prefetch" href="/assets/js/49.09e4f051.js"><link rel="prefetch" href="/assets/js/5.42732a03.js"><link rel="prefetch" href="/assets/js/50.4b790d38.js"><link rel="prefetch" href="/assets/js/51.1627e4ef.js"><link rel="prefetch" href="/assets/js/52.e13815b9.js"><link rel="prefetch" href="/assets/js/53.a924511f.js"><link rel="prefetch" href="/assets/js/54.840bac2a.js"><link rel="prefetch" href="/assets/js/55.8f68ea33.js"><link rel="prefetch" href="/assets/js/56.f0ea420e.js"><link rel="prefetch" href="/assets/js/57.a89b4ac5.js"><link rel="prefetch" href="/assets/js/58.ffbe5591.js"><link rel="prefetch" href="/assets/js/59.09a4acd8.js"><link rel="prefetch" href="/assets/js/60.da04b195.js"><link rel="prefetch" href="/assets/js/61.0511ce2b.js"><link rel="prefetch" href="/assets/js/62.e25278af.js"><link rel="prefetch" href="/assets/js/63.cc99c19f.js"><link rel="prefetch" href="/assets/js/64.865eb55c.js"><link rel="prefetch" href="/assets/js/65.9bf1fb3e.js"><link rel="prefetch" href="/assets/js/66.931ca6f1.js"><link rel="prefetch" href="/assets/js/67.966c264e.js"><link rel="prefetch" href="/assets/js/68.266bd48b.js"><link rel="prefetch" href="/assets/js/69.647fcc23.js"><link rel="prefetch" href="/assets/js/7.f3ad1daf.js"><link rel="prefetch" href="/assets/js/70.7be2a164.js"><link rel="prefetch" href="/assets/js/71.c40e69c4.js"><link rel="prefetch" href="/assets/js/72.2bcd252b.js"><link rel="prefetch" href="/assets/js/73.90ca53e1.js"><link rel="prefetch" href="/assets/js/74.cf516a41.js"><link rel="prefetch" href="/assets/js/75.593ddb08.js"><link rel="prefetch" href="/assets/js/76.6eb8d092.js"><link rel="prefetch" href="/assets/js/77.ef1455c2.js"><link rel="prefetch" href="/assets/js/78.beb71540.js"><link rel="prefetch" href="/assets/js/79.2f904411.js"><link rel="prefetch" href="/assets/js/8.4bdbe205.js"><link rel="prefetch" href="/assets/js/80.0e466c3f.js"><link rel="prefetch" href="/assets/js/81.d300bf67.js"><link rel="prefetch" href="/assets/js/82.6dbc2706.js"><link rel="prefetch" href="/assets/js/83.2ab10673.js"><link rel="prefetch" href="/assets/js/84.02c87eab.js"><link rel="prefetch" href="/assets/js/85.8b22091f.js"><link rel="prefetch" href="/assets/js/86.3e621a78.js"><link rel="prefetch" href="/assets/js/87.937dd47b.js"><link rel="prefetch" href="/assets/js/88.01a5eccb.js"><link rel="prefetch" href="/assets/js/89.2bf4dac5.js"><link rel="prefetch" href="/assets/js/9.702cbf0e.js"><link rel="prefetch" href="/assets/js/90.61a4f5e1.js"><link rel="prefetch" href="/assets/js/91.0a1a6a8f.js"><link rel="prefetch" href="/assets/js/92.207a95f6.js"><link rel="prefetch" href="/assets/js/93.65a8f8d3.js"><link rel="prefetch" href="/assets/js/94.a3b67aeb.js"><link rel="prefetch" href="/assets/js/95.38ba4009.js"><link rel="prefetch" href="/assets/js/96.d0fbb906.js"><link rel="prefetch" href="/assets/js/97.b83c5308.js"><link rel="prefetch" href="/assets/js/98.ab18eb13.js"><link rel="prefetch" href="/assets/js/99.78b5fe49.js"><link rel="prefetch" href="/assets/js/vendors~docsearch.d99b1520.js">
    <link rel="stylesheet" href="/assets/css/0.styles.0354eaf6.css">
  </head>
  <body>
    <div id="app" data-server-rendered="true"><div class="theme-container"><header class="navbar"><div class="sidebar-button"><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" role="img" viewBox="0 0 448 512" class="icon"><path fill="currentColor" d="M436 124H12c-6.627 0-12-5.373-12-12V80c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12z"></path></svg></div> <a href="/" class="home-link router-link-active"><img src="/KMD_Mark_White.png" alt="Komodo Documentation" class="logo"></a> <div class="links"><form id="search-form" role="search" class="algolia-search-wrapper search-box"><input id="algolia-search-input" class="search-query"></form> <nav class="nav-links can-hide"><div class="nav-item"><a href="/basic-docs/start-here/outline-for-new-developers.html" class="nav-link">
  Start Here
</a></div><div class="nav-item"><a href="/basic-docs/smart-chains/introduction-to-smart-chain-documentation.html" class="nav-link">
  Smart Chain Essentials
</a></div><div class="nav-item"><a href="/basic-docs/antara/introduction-to-antara.html" class="nav-link">
  Antara Framework
</a></div><div class="nav-item"><a href="/basic-docs/atomicdex/introduction-to-atomicdex.html" class="nav-link">
  AtomicDEX
</a></div><div class="nav-item"><a href="/komodo/installation.html" class="nav-link">
  Komodo
</a></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="Guides" class="dropdown-title"><span class="title">Guides</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/cc-jl/introduction.html" class="nav-link">
  CC Book
</a></li><li class="dropdown-item"><!----> <a href="/notary/setup-Komodo-Notary-Node.html" class="nav-link">
  Notary Nodes
</a></li><li class="dropdown-item"><!----> <a href="/mmV1/introduction.html" class="nav-link">
  Marketmaker V1
</a></li><li class="dropdown-item"><!----> <a href="/basic-docs/smart-chains/smart-chain-setup/nspv.html" class="nav-link">
  nSPV
</a></li><li class="dropdown-item"><!----> <a href="/gui/agama/introduction.html" class="nav-link">
  Agama
</a></li><li class="dropdown-item"><!----> <a href="/qa/debug-Komodo.html" class="nav-link">
  QA and Testing
</a></li><li class="dropdown-item"><!----> <a href="/whitepaper/introduction.html" class="nav-link">
  Whitepaper
</a></li></ul></div></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="Resources" class="dropdown-title"><span class="title">Resources</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/resources/list-all-KomodoPlatform-repos-links.html" class="nav-link">
  Komodo Platform
</a></li><li class="dropdown-item"><!----> <a href="/resources/third-party-repos-resources.html" class="nav-link">
  Third Party
</a></li></ul></div></div><div class="nav-item"><a href="https://komodoplatform.com" target="_blank" rel="noopener noreferrer" class="nav-link external">
  KomodoPlatform.com
  <svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></div> <a href="https://github.com/komodoplatform/Documentation" target="_blank" rel="noopener noreferrer" class="repo-link">
    Github
    <svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></nav></div></header> <div class="sidebar-mask"></div> <aside class="sidebar"><nav class="nav-links"><div class="nav-item"><a href="/basic-docs/start-here/outline-for-new-developers.html" class="nav-link">
  Start Here
</a></div><div class="nav-item"><a href="/basic-docs/smart-chains/introduction-to-smart-chain-documentation.html" class="nav-link">
  Smart Chain Essentials
</a></div><div class="nav-item"><a href="/basic-docs/antara/introduction-to-antara.html" class="nav-link">
  Antara Framework
</a></div><div class="nav-item"><a href="/basic-docs/atomicdex/introduction-to-atomicdex.html" class="nav-link">
  AtomicDEX
</a></div><div class="nav-item"><a href="/komodo/installation.html" class="nav-link">
  Komodo
</a></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="Guides" class="dropdown-title"><span class="title">Guides</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/cc-jl/introduction.html" class="nav-link">
  CC Book
</a></li><li class="dropdown-item"><!----> <a href="/notary/setup-Komodo-Notary-Node.html" class="nav-link">
  Notary Nodes
</a></li><li class="dropdown-item"><!----> <a href="/mmV1/introduction.html" class="nav-link">
  Marketmaker V1
</a></li><li class="dropdown-item"><!----> <a href="/basic-docs/smart-chains/smart-chain-setup/nspv.html" class="nav-link">
  nSPV
</a></li><li class="dropdown-item"><!----> <a href="/gui/agama/introduction.html" class="nav-link">
  Agama
</a></li><li class="dropdown-item"><!----> <a href="/qa/debug-Komodo.html" class="nav-link">
  QA and Testing
</a></li><li class="dropdown-item"><!----> <a href="/whitepaper/introduction.html" class="nav-link">
  Whitepaper
</a></li></ul></div></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="Resources" class="dropdown-title"><span class="title">Resources</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/resources/list-all-KomodoPlatform-repos-links.html" class="nav-link">
  Komodo Platform
</a></li><li class="dropdown-item"><!----> <a href="/resources/third-party-repos-resources.html" class="nav-link">
  Third Party
</a></li></ul></div></div><div class="nav-item"><a href="https://komodoplatform.com" target="_blank" rel="noopener noreferrer" class="nav-link external">
  KomodoPlatform.com
  <svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></div> <a href="https://github.com/komodoplatform/Documentation" target="_blank" rel="noopener noreferrer" class="repo-link">
    Github
    <svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></nav>  <ul class="sidebar-links"><li><a href="/basic-docs/antara/introduction-to-antara.html" class="sidebar-link">Introduction to Antara Documentation</a></li><li><a href="/basic-docs/antara/antara-setup/antara-customizations.html" class="sidebar-link">Antara Customizations</a></li><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading open"><span>Antara Tutorials</span> <span class="arrow down"></span></p> <ul class="sidebar-links sidebar-group-items"><li><a href="/basic-docs/antara/antara-tutorials/introduction-to-antara-tutorials.html" class="sidebar-link">Introduction to Antara Tutorials</a></li><li><a href="/basic-docs/antara/antara-tutorials/understanding-antara-addresses.html" class="sidebar-link">Understanding Antara Addresses</a></li><li><a href="/basic-docs/antara/antara-tutorials/overview-of-antara-modules-part-i.html" class="sidebar-link">Overview of Antara Modules — Part I</a></li><li><a href="/basic-docs/antara/antara-tutorials/overview-of-antara-modules-part-ii.html" class="sidebar-link">Overview of Antara Modules — Part II</a></li><li><a href="/basic-docs/antara/antara-tutorials/beginner-series-part-0.html" class="sidebar-link">Beginner Series — Preparation</a></li><li><a href="/basic-docs/antara/antara-tutorials/beginner-series-part-1.html" class="sidebar-link">Beginner Series — Create a Blockchain</a></li><li><a href="/basic-docs/antara/antara-tutorials/beginner-series-part-2.html" class="sidebar-link">Beginner Series — Using a Faucet</a></li><li><a href="/basic-docs/antara/antara-tutorials/beginner-series-part-3.html" class="sidebar-link">Beginner Series — Connecting to Another Programming Environment</a></li><li><a href="/basic-docs/antara/antara-tutorials/beginner-series-part-4.html" class="sidebar-link">Beginner Series — Understanding Tokens</a></li><li><a href="/basic-docs/antara/antara-tutorials/advanced-series-0.html" class="sidebar-link">Advanced Series — Introduction</a></li><li><a href="/basic-docs/antara/antara-tutorials/advanced-series-1.html" class="sidebar-link">Advanced Series — Smart Chain Development Basics</a></li><li><a href="/basic-docs/antara/antara-tutorials/advanced-series-2.html" class="sidebar-link">Advanced Series — Antara Module Development Basics</a></li><li><a href="/basic-docs/antara/antara-tutorials/advanced-series-3.html" class="sidebar-link">Advanced Series — Preparing for Heir Development</a></li><li><a href="/basic-docs/antara/antara-tutorials/advanced-series-4.html" class="sidebar-link">Advanced Series — Final Conceptual Discussion</a></li><li><a href="/basic-docs/antara/antara-tutorials/advanced-series-5.html" class="sidebar-link">Advanced Series — Developing the Heir Module Prototype</a></li><li><a href="/basic-docs/antara/antara-tutorials/advanced-series-6.html" class="active sidebar-link">Advanced Series — Miscellaneous</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/basic-docs/antara/antara-tutorials/advanced-series-6.html#terminology" class="sidebar-link">Terminology</a></li><li class="sidebar-sub-header"><a href="/basic-docs/antara/antara-tutorials/advanced-series-6.html#cc-contract-patterns" class="sidebar-link">CC contract patterns</a></li><li class="sidebar-sub-header"><a href="/basic-docs/antara/antara-tutorials/advanced-series-6.html#various-tips-and-tricks-in-antara-module-development" class="sidebar-link">Various Tips and Tricks in Antara Module Development</a></li></ul></li><li><a href="/basic-docs/antara/antara-tutorials/dilithium-module-tutorial.html" class="sidebar-link">Module Tutorial — Dilithium</a></li><li><a href="/basic-docs/antara/antara-tutorials/gateways-module-tutorial.html" class="sidebar-link">Module Tutorial — Gateways</a></li><li><a href="/basic-docs/antara/antara-tutorials/musig-module-tutorial.html" class="sidebar-link">Module Tutorial — Musig</a></li><li><a href="/basic-docs/antara/antara-tutorials/rogue-module-tutorial.html" class="sidebar-link">Module Tutorial — Rogue</a></li><li><a href="/basic-docs/antara/antara-tutorials/pegs-module-user-tutorial.html" class="sidebar-link">Module Tutorial — Pegs | User</a></li><li><a href="/basic-docs/antara/antara-tutorials/pegs-module-creator-tutorial.html" class="sidebar-link">Module Tutorial — Pegs | Creator</a></li></ul></section></li><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading"><span>Antara Modules</span> <span class="arrow right"></span></p> <!----></section></li></ul> </aside> <main class="page"> <div class="theme-default-content content__default"><h1 id="advanced-series-—-miscellaneous"><a href="#advanced-series-—-miscellaneous" class="header-anchor">#</a> Advanced Series — Miscellaneous</h1> <p>This last tutorial in the Advanced Series provides miscellaneous information that our development team considered to be useful for prospective developers.</p> <p>Congratulations on finishing the Advanced Series. Make sure to reach out to the Komodo team to see if there are any bounties that you can fill with your new ability to create Antara Modules. And we welcome you to the Komodo ecosystem as a prepared developer. We look forward to seeing what you create.</p> <h2 id="terminology"><a href="#terminology" class="header-anchor">#</a> Terminology</h2> <table><thead><tr><th>Term</th> <th>Definition</th></tr></thead> <tbody><tr><td>CryptoCondition, or CC</td> <td>An encoded expression, coupled with a supporting C library, that allows the Smart Chain's consensus mechanism to check several types of logical conditions based on electronic signatures and hashes</td></tr> <tr><td>Antara module</td> <td>A collection of customized code that a developer adds into the default daemon to add unique functionality, including customized consensus rules and more</td></tr> <tr><td>CC input</td> <td>A transaction input, CC encoded. Typically spends value from a CC output</td></tr> <tr><td>CC output</td> <td>A transaction output, CC encoded</td></tr> <tr><td>funding plan</td> <td>The txid of an Antara Module's initial transaction, it is the identifier for all of the Antara module's CC transactions, related to this funding plan</td></tr> <tr><td>normal inputs</td> <td>Inputs spending value from normal transaction outputs (not CC outputs)</td></tr> <tr><td>normal outputs</td> <td>Not CC outputs, but normal transaction outputs (pubkey, pubkey hash, etc.)</td></tr> <tr><td>OP_RETURN, opreturn</td> <td>A special output in a transaction that holds user and module data. The output is prepended by  an OP_RETURN script opcode and therefore spending from this output is impossible</td></tr> <tr><td>tx, txn</td> <td>Short for &quot;transaction&quot;</td></tr> <tr><td>txid</td> <td>Transaction id; a hash of a transaction</td></tr> <tr><td>unspendable address</td> <td>The global cc contract address, for which its public and private key are commonly known. This address is used for conditionally sharing funds between contract users. As the address's private key is not a secret, by default anyone can spend value from this address. However, CC validation code often applies business logic conditions and checks to ensure that only transactions that meet the given criteria are actually able to spend funds in this address</td></tr> <tr><td>vin</td> <td>An input, or an array of inputs, in a transaction structure (tx.vin)</td></tr> <tr><td>vout</td> <td>An output, or an array of outputs, in a transaction structure (tx.vout)</td></tr></tbody></table> <h2 id="cc-contract-patterns"><a href="#cc-contract-patterns" class="header-anchor">#</a> CC contract patterns</h2> <p>The following are useful patterns during Antara module development.</p> <h3 id="baton-pattern"><a href="#baton-pattern" class="header-anchor">#</a> Baton Pattern</h3> <p>The baton pattern allows the developer to organize a single-linked list in a Smart Chain. This list is formed by transactions that spend the baton from previous transactions.</p> <p>To traverse a linked list using the baton method, start with the first transaction in any plan instance and iterate through the other transactions to collect properties in their opreturns.</p> <p>Example:</p> <p>Add a baton to a transaction by sending a small fixed fee to a predefined output:</p> <div class="language-cpp extra-class"><pre class="language-cpp"><code>mtx<span class="token punctuation">.</span>vout<span class="token punctuation">.</span><span class="token function">push_back</span><span class="token punctuation">(</span><span class="token function">MakeCC1vout</span><span class="token punctuation">(</span>cp<span class="token operator">-&gt;</span>evalcode<span class="token punctuation">,</span> <span class="token number">10000</span><span class="token punctuation">,</span> <span class="token function">Mypubkey</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>  <span class="token comment">// BATON_VOUT</span>
</code></pre></div><p>We use the baton on the pubkey provided by the user in the <code>-pubkey</code> daemon parameter.</p> <p>Iterate through the transactions marked with the baton:</p> <div class="language-cpp extra-class"><pre class="language-cpp"><code><span class="token keyword">int64_t</span> <span class="token function">EnumerateBatons</span><span class="token punctuation">(</span>uint256 initialtxid<span class="token punctuation">)</span>
<span class="token punctuation">{</span>
    <span class="token keyword">int64_t</span> total <span class="token operator">=</span> <span class="token number">0LL</span><span class="token punctuation">;</span>
    <span class="token keyword">int32_t</span> vini<span class="token punctuation">;</span>
    <span class="token keyword">int32_t</span> height<span class="token punctuation">;</span>
    <span class="token keyword">int32_t</span> retcode<span class="token punctuation">;</span>
    uint256 batontxid<span class="token punctuation">;</span>
    uint256 sourcetxid <span class="token operator">=</span> initialtxid<span class="token punctuation">;</span>
    <span class="token comment">// iterate through the tx spending the baton, adding up amount from the tx opreturn</span>
    <span class="token keyword">while</span> <span class="token punctuation">(</span><span class="token punctuation">(</span>retcode <span class="token operator">=</span> <span class="token function">CCgetspenttxid</span><span class="token punctuation">(</span>batontxid<span class="token punctuation">,</span> vini<span class="token punctuation">,</span> height<span class="token punctuation">,</span> sourcetxid<span class="token punctuation">,</span> BATON_VOUT<span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token operator">==</span> <span class="token number">0</span><span class="token punctuation">)</span>  <span class="token comment">// find a tx which spent the baton vout</span>
    <span class="token punctuation">{</span>
        CTransaction txBaton<span class="token punctuation">;</span>
        uint256 hashBlock<span class="token punctuation">;</span>
        <span class="token keyword">uint8_t</span> funcId<span class="token punctuation">;</span>
        <span class="token keyword">int64_t</span> amount<span class="token punctuation">;</span>
        <span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token function">GetTransaction</span><span class="token punctuation">(</span>batontxid<span class="token punctuation">,</span> txBaton<span class="token punctuation">,</span> hashBlock<span class="token punctuation">,</span> <span class="token boolean">true</span><span class="token punctuation">)</span> <span class="token operator">&amp;&amp;</span>  <span class="token comment">// load the transaction which spent the baton</span>
            <span class="token operator">!</span>hashBlock<span class="token punctuation">.</span><span class="token function">IsNull</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">&amp;&amp;</span>                           <span class="token comment">// tx not in mempool</span>
            txBaton<span class="token punctuation">.</span>vout<span class="token punctuation">.</span><span class="token function">size</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">&gt;</span> BATON_VOUT <span class="token operator">&amp;&amp;</span>             
            txBaton<span class="token punctuation">.</span>vout<span class="token punctuation">[</span>BATON_VOUT<span class="token punctuation">]</span><span class="token punctuation">.</span>nValue <span class="token operator">==</span> <span class="token number">10000</span> <span class="token operator">&amp;&amp;</span>     <span class="token comment">// check baton fee </span>
            <span class="token punctuation">(</span>funcId <span class="token operator">=</span> <span class="token function">DecodeOpReturn</span><span class="token punctuation">(</span>txBaton<span class="token punctuation">.</span>vout<span class="token punctuation">.</span><span class="token function">back</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span>scriptPubKey<span class="token punctuation">,</span> amount<span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token operator">!=</span> <span class="token number">0</span><span class="token punctuation">)</span> <span class="token comment">// decode opreturn</span>
        <span class="token punctuation">{</span>    
             total <span class="token operator">+=</span> amount<span class="token punctuation">;</span>
        <span class="token punctuation">}</span>
        <span class="token keyword">else</span>
        <span class="token punctuation">{</span>
            <span class="token comment">// some error:</span>
            <span class="token keyword">return</span> <span class="token operator">-</span><span class="token number">1</span><span class="token punctuation">;</span>
        <span class="token punctuation">}</span>
        sourcetxid <span class="token operator">=</span> batontxid<span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
    <span class="token keyword">return</span> total<span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre></div><h3 id="marker-pattern"><a href="#marker-pattern" class="header-anchor">#</a> Marker Pattern</h3> <p>The marker pattern is used to place a mark on all similar transactions. This is accomplished by sending a small value to a common fixed address. Typically, we use the global CC address.</p> <p>You can also create either a normal marker or a CC marker for the purpose of finding transactions related to your module.</p> <p>When using normal markers, there is a small problem that is easily solved. The global CC address allows any user to spend its funds, and therefore anyone can spend your marker transaction. To overcome this, use the CC SDK function, <code>Settxids()</code>, to retrieve all transactions with markers in the CC contract list function.</p> <p>Another method is to create an unspendable CC marker. In this method, send a small value to a CC output with a well-known address. To retrieve the list of CC-marker transactions, use the CC SDK function, <code>SetCCunspents()</code>. This returns a list of transactions with unspent outputs for that known address.</p> <p>When using the unspendable CC marker method, in the validation code you should disable spending from this address.  This prevents a scenario where spending from the address causes you to lose markers. (For example, if you were to allow for spending from this address using a burn transaction, the burn transactions would take the burned markers into a hidden state, thus removing the markers from the list of initial transactions.)</p> <p>In all cases, the CC module validation code should disable unauthorized attempts to spend any markers.</p> <p>Concerning the method that relies on the CC marker, if the global CC address is used for storing not only the marker value, but also other funds, you need to ensure that marker values are not spent.</p> <p>A code example for finding transactions marked with a normal marker:</p> <div class="language-cpp extra-class"><pre class="language-cpp"><code>    std<span class="token operator">::</span>vector<span class="token operator">&lt;</span>std<span class="token operator">::</span>pair<span class="token operator">&lt;</span>CAddressIndexKey<span class="token punctuation">,</span> CAmount<span class="token operator">&gt;</span> <span class="token operator">&gt;</span> addressIndex<span class="token punctuation">;</span>
    <span class="token keyword">struct</span> <span class="token class-name">CCcontract_info</span> <span class="token operator">*</span>cp<span class="token punctuation">,</span> C<span class="token punctuation">;</span>
    cp <span class="token operator">=</span> <span class="token function">CCinit</span><span class="token punctuation">(</span><span class="token operator">&amp;</span>C<span class="token punctuation">,</span> <span class="token operator">&lt;</span>some eval code<span class="token operator">&gt;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token function">SetCCtxids</span><span class="token punctuation">(</span>addressIndex<span class="token punctuation">,</span> cp<span class="token operator">-&gt;</span>normaladdr<span class="token punctuation">,</span> <span class="token boolean">false</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token keyword">for</span> <span class="token punctuation">(</span>std<span class="token operator">::</span>vector<span class="token operator">&lt;</span>std<span class="token operator">::</span>pair<span class="token operator">&lt;</span>CAddressIndexKey<span class="token punctuation">,</span> CAmount<span class="token operator">&gt;</span> <span class="token operator">&gt;</span><span class="token operator">::</span>const_iterator it <span class="token operator">=</span> addressIndex<span class="token punctuation">.</span><span class="token function">begin</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span> it <span class="token operator">!=</span> addressIndex<span class="token punctuation">.</span><span class="token function">end</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span> it<span class="token operator">++</span><span class="token punctuation">)</span> 	<span class="token punctuation">{</span>
        CTransaction vintx<span class="token punctuation">;</span>
        uint256 blockHash<span class="token punctuation">;</span>
        <span class="token keyword">if</span><span class="token punctuation">(</span> <span class="token function">GetTransaction</span><span class="token punctuation">(</span>it<span class="token operator">-&gt;</span>first<span class="token punctuation">.</span>txhash<span class="token punctuation">,</span> vintx<span class="token punctuation">,</span> blockHash<span class="token punctuation">,</span> <span class="token boolean">false</span><span class="token punctuation">)</span> <span class="token punctuation">)</span> <span class="token punctuation">{</span>
            <span class="token comment">// check tx and add its txid to a list</span>
        <span class="token punctuation">}</span>
    <span class="token punctuation">}</span>
</code></pre></div><p>Many other Antara modules contain examples for finding marked transactions in any CC module standard list function.</p> <div class="custom-block tip"><p class="custom-block-title">TIP</p> <p>The <b>SetCCtxids()</b> function requires that the Smart Chain <a href="/basic-docs/smart-chains/smart-chain-setup/common-runtime-parameters.html#txindex"><b>txindex</b></a> launch parameter NOT be adjusted beyond the default and automatic settings.</p></div> <p>A code example for finding transactions marked with an unspendable CC marker:</p> <div class="language-cpp extra-class"><pre class="language-cpp"><code>    std<span class="token operator">::</span>vector<span class="token operator">&lt;</span>std<span class="token operator">::</span>pair<span class="token operator">&lt;</span>CAddressIndexKey<span class="token punctuation">,</span> CAmount<span class="token operator">&gt;</span> <span class="token operator">&gt;</span> addressIndex<span class="token punctuation">;</span>
    <span class="token keyword">struct</span> <span class="token class-name">CCcontract_info</span> <span class="token operator">*</span>cp<span class="token punctuation">,</span> C<span class="token punctuation">;</span>
    cp <span class="token operator">=</span> <span class="token function">CCinit</span><span class="token punctuation">(</span><span class="token operator">&amp;</span>C<span class="token punctuation">,</span> <span class="token operator">&lt;</span>some eval code<span class="token operator">&gt;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token function">SetCCunspents</span><span class="token punctuation">(</span>addressIndexCCMarker<span class="token punctuation">,</span> cp<span class="token operator">-&gt;</span>unspendableCCaddr<span class="token punctuation">,</span> <span class="token boolean">true</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token keyword">for</span> <span class="token punctuation">(</span>std<span class="token operator">::</span>vector<span class="token operator">&lt;</span>std<span class="token operator">::</span>pair<span class="token operator">&lt;</span>CAddressUnspentKey<span class="token punctuation">,</span> CAddressUnspentValue<span class="token operator">&gt;</span> <span class="token operator">&gt;</span><span class="token operator">::</span>const_iterator it <span class="token operator">=</span> addressIndexCCMarker<span class="token punctuation">.</span><span class="token function">begin</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span> it <span class="token operator">!=</span> addressIndexCCMarker<span class="token punctuation">.</span><span class="token function">end</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span> it<span class="token operator">++</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        CTransaction vintx<span class="token punctuation">;</span>
        uint256 blockHash<span class="token punctuation">;</span>
        <span class="token keyword">if</span><span class="token punctuation">(</span> <span class="token function">GetTransaction</span><span class="token punctuation">(</span>it<span class="token operator">-&gt;</span>first<span class="token punctuation">.</span>txhash<span class="token punctuation">,</span> vintx<span class="token punctuation">,</span> hashBlock<span class="token punctuation">,</span> <span class="token boolean">false</span><span class="token punctuation">)</span> <span class="token punctuation">)</span> <span class="token punctuation">{</span>
            <span class="token comment">// check tx and add its txid to a list</span>
        <span class="token punctuation">}</span>
    <span class="token punctuation">}</span>
</code></pre></div><div class="custom-block tip"><p class="custom-block-title">TIP</p> <p>The <b>CCunspents()</b> function requires the Smart Chain <a href="/basic-docs/smart-chains/smart-chain-setup/common-runtime-parameters.html#addressindex"><b>addressindex</b></a> and <a href="/basic-docs/smart-chains/smart-chain-setup/common-runtime-parameters.html#spentindex"><b>spentindex</b></a> launch parameters to be set to <code>1</code>.</p></div> <h3 id="txidaddress-pattern"><a href="#txidaddress-pattern" class="header-anchor">#</a> Txidaddress Pattern</h3> <p>You can use the txidaddress pattern to send value to an address from which the value should never again be spent.</p> <p>The function <code>CCtxidaddr</code> is available for creating an address that is not associated with any known private key. This function creates a public key with no private key from a transaction id.</p> <p>For example, the <a href="/basic-docs/antara/antara-api/payments.html"><b>Payments</b></a> Antara Module uses <code>CCtxidaddr</code> to create a non-spendable txidpk from the <code>createtxid</code>. Furthermore, the module also uses the <code>GetCCaddress1of2</code> function to create a <code>1of2</code> address from both the Payments module global pubkey and the txid-pubkey.</p> <p>This allows the module to collect funds on a special CC address that is intended only for a particular type of creation transaction. Funds are sent to this address via the <code>MakeCC1of2vout</code> function. Only the Payments module global pubkey and txid-pubkey can successfully create transactions that can be sent to this special address.</p> <h6 id="create-an-unspendable-public-key-for-a-transaction-id"><a href="#create-an-unspendable-public-key-for-a-transaction-id" class="header-anchor">#</a> Create an unspendable public key for a transaction id</h6> <div class="language-cpp extra-class"><pre class="language-cpp"><code><span class="token comment">// use Antara SDK function to create a public key from some transaction id:</span>
CPubKey txidpk <span class="token operator">=</span> <span class="token function">CCtxidaddr</span><span class="token punctuation">(</span>txidaddr<span class="token punctuation">,</span> createtxid<span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre></div><h6 id="create-a-cc-vout-with-1-of-2-pubkeys-one-of-which-is-txid-pubkey"><a href="#create-a-cc-vout-with-1-of-2-pubkeys-one-of-which-is-txid-pubkey" class="header-anchor">#</a> Create a cc vout with 1 of 2 pubkeys, one of which is txid pubkey</h6> <div class="language-cpp extra-class"><pre class="language-cpp"><code><span class="token comment">// create a cc vout with 1 of 2 pubkeys, one of which is txid pubkey</span>
mtx<span class="token punctuation">.</span>vout<span class="token punctuation">.</span><span class="token function">push_back</span><span class="token punctuation">(</span><span class="token function">MakeCC1of2vout</span><span class="token punctuation">(</span>EVAL_PAYMENTS<span class="token punctuation">,</span> inputsum<span class="token operator">-</span>PAYMENTS_TXFEE<span class="token punctuation">,</span> Paymentspk<span class="token punctuation">,</span> txidpk<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre></div><h6 id="spend-1-of-2-pubkey-outputs-with-a-txid-pubkey-in-a-previous-transaction"><a href="#spend-1-of-2-pubkey-outputs-with-a-txid-pubkey-in-a-previous-transaction" class="header-anchor">#</a> Spend 1 of 2 pubkey outputs with a txid pubkey in a previous transaction</h6> <div class="language-cpp extra-class"><pre class="language-cpp"><code>
<span class="token comment">// function AddPaymentsInputs adds inputs from the address of 1of2 pubkeys (global and txid pk) outputs to the mtx object (the function parameters are not important for now): </span>
<span class="token keyword">if</span> <span class="token punctuation">(</span> <span class="token punctuation">(</span>inputsum<span class="token operator">=</span> <span class="token function">AddPaymentsInputs</span><span class="token punctuation">(</span><span class="token boolean">true</span><span class="token punctuation">,</span><span class="token number">0</span><span class="token punctuation">,</span>cp<span class="token punctuation">,</span>mtx<span class="token punctuation">,</span>txidpk<span class="token punctuation">,</span>newamount<span class="token operator">+</span><span class="token number">2</span><span class="token operator">*</span>PAYMENTS_TXFEE<span class="token punctuation">,</span>CC_MAXVINS<span class="token operator">/</span><span class="token number">2</span><span class="token punctuation">,</span>createtxid<span class="token punctuation">,</span>lockedblocks<span class="token punctuation">,</span>minrelease<span class="token punctuation">,</span>blocksleft<span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token operator">&gt;=</span> newamount<span class="token operator">+</span><span class="token number">2</span><span class="token operator">*</span>PAYMENTS_TXFEE <span class="token punctuation">)</span>
<span class="token punctuation">{</span>
    <span class="token comment">// Get the address for 1 of 2 pubkeys cc output (into `destaddress` variable):</span>
    <span class="token function">GetCCaddress1of2</span><span class="token punctuation">(</span>cp<span class="token punctuation">,</span> destaddr<span class="token punctuation">,</span> Paymentspk<span class="token punctuation">,</span> txidpk<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token comment">// Set the pubkeys, address and global private key for spending the 1 of 2 pubkeys address (which also consists of the global and txid pk) in the previous transaction: </span>
    <span class="token function">CCaddr1of2set</span><span class="token punctuation">(</span>cp<span class="token punctuation">,</span> Paymentspk<span class="token punctuation">,</span> txidpk<span class="token punctuation">,</span> cp<span class="token operator">-&gt;</span>CCpriv<span class="token punctuation">,</span> destaddr<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token comment">// Sign the transaction in the mtx variable:</span>
    std<span class="token operator">::</span>string rawtx <span class="token operator">=</span> <span class="token function">FinalizeCCTx</span><span class="token punctuation">(</span><span class="token number">0</span><span class="token punctuation">,</span> cp<span class="token punctuation">,</span> mtx<span class="token punctuation">,</span> mypk<span class="token punctuation">,</span> PAYMENTS_TXFEE<span class="token punctuation">,</span> <span class="token function">CScript</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token comment">// return `rawtx` to the user...</span>
<span class="token punctuation">}</span>
</code></pre></div><h3 id="application-data-in-a-cryptocondition-vout-cc-opret"><a href="#application-data-in-a-cryptocondition-vout-cc-opret" class="header-anchor">#</a> Application Data in a CryptoCondition vout (&quot;cc opret&quot;)</h3> <p>With the latest changes to the Antara SDK a developer can now add application data to a CryptoCondition output, also called a &quot;cc opret.&quot;</p> <p>This allows more flexibility in the creation of Antara Module transactions. As cc-output content is hashed and not directly readable, cc opret creates the possibility to add identification data to a cc output. This allows the developer to distinguish this vout from other vouts.</p> <p>The SDK also now opens up the possibility to place any application data in cc vouts, instead of the last vout alone (as was the case previously). This allows a single transaction to have outputs of two or more Antara modules. For example, this can be useful when making swaps of values between modules.</p> <p>An example of cc-opret usage can be found in the <a href="/basic-docs/antara/antara-api/payments.html">Payments Module.</a> In this module, the <code>vData</code> optional parameter in the <code>MakeCC1of2vout</code> function is used to append the opreturn data directly to the <code>ccvout</code> itself. This contrasts with the old method of adding the data to an actual opreturn that is the last <code>vout</code> in a transaction.</p> <div class="language-cpp extra-class"><pre class="language-cpp"><code>std<span class="token operator">::</span>vector<span class="token operator">&lt;</span><span class="token keyword">unsigned</span> <span class="token keyword">char</span><span class="token operator">&gt;&gt;</span> opret <span class="token operator">=</span> <span class="token function">EncodePaymentsMergeOpRet</span><span class="token punctuation">(</span>createtxid<span class="token punctuation">)</span><span class="token punctuation">;</span>  <span class="token comment">// create Antara module opreturn data</span>
<span class="token comment">// create a public key from a transaction id as it was made in 'Txidaddress pattern':</span>
CPubKey txidpk <span class="token operator">=</span> <span class="token function">CCtxidaddr</span><span class="token punctuation">(</span>txidaddr<span class="token punctuation">,</span> createtxid<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token comment">// create vData object that will be added to cc vout:</span>
std<span class="token operator">::</span>vector<span class="token operator">&lt;</span>std<span class="token operator">::</span>vector<span class="token operator">&lt;</span><span class="token keyword">unsigned</span> <span class="token keyword">char</span><span class="token operator">&gt;&gt;</span> vData <span class="token operator">=</span> std<span class="token operator">::</span>vector<span class="token operator">&lt;</span>std<span class="token operator">::</span>vector<span class="token operator">&lt;</span><span class="token keyword">unsigned</span> <span class="token keyword">char</span><span class="token operator">&gt;&gt;</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token comment">// Put the opreturn into vData object:</span>
<span class="token keyword">if</span> <span class="token punctuation">(</span> <span class="token function">makeCCopret</span><span class="token punctuation">(</span>opret<span class="token punctuation">,</span> vData<span class="token punctuation">)</span> <span class="token punctuation">)</span>  <span class="token punctuation">{</span>
    <span class="token comment">// pass vData object as the last parameter in MakeCC1of2vout:</span>
    mtx<span class="token punctuation">.</span>vout<span class="token punctuation">.</span><span class="token function">push_back</span><span class="token punctuation">(</span><span class="token function">MakeCC1of2vout</span><span class="token punctuation">(</span>EVAL_PAYMENTS<span class="token punctuation">,</span> inputsum<span class="token operator">-</span>PAYMENTS_TXFEE<span class="token punctuation">,</span> Paymentspk<span class="token punctuation">,</span> txidpk<span class="token punctuation">,</span> <span class="token operator">&amp;</span>vData<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
<span class="token comment">// some other stuff to prepare the parameters for signing the transaction:    </span>
<span class="token function">GetCCaddress1of2</span><span class="token punctuation">(</span>cp<span class="token punctuation">,</span> destaddr<span class="token punctuation">,</span> Paymentspk<span class="token punctuation">,</span> txidpk<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token function">CCaddr1of2set</span><span class="token punctuation">(</span>cp<span class="token punctuation">,</span> Paymentspk<span class="token punctuation">,</span> txidpk<span class="token punctuation">,</span> cp<span class="token operator">-&gt;</span>CCpriv<span class="token punctuation">,</span> destaddr<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token comment">// sign the transaction:</span>
rawtx <span class="token operator">=</span> <span class="token function">FinalizeCCTx</span><span class="token punctuation">(</span><span class="token number">0</span><span class="token punctuation">,</span> cp<span class="token punctuation">,</span> mtx<span class="token punctuation">,</span> mypk<span class="token punctuation">,</span> PAYMENTS_TXFEE<span class="token punctuation">,</span> <span class="token function">CScript</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>  <span class="token comment">// use the empty last vout opreturn, we don't need it any more</span>
</code></pre></div><p>The following content provides an example of using cc opret data for the identification of Antara module cc outputs. (Recall that a cc output's content is hashed, and therefore identifying a cc vout is challenging.)</p> <p>Using a modification to the <code>IsPaymentsvout</code> function, we spend a <code>ccvout</code> in the <b>Payments</b> module back to its own address, without needing a <code>markervout</code> or an opreturn.</p> <div class="language-cpp extra-class"><pre class="language-cpp"><code><span class="token comment">// function used to check if this is a Payments module vout</span>
<span class="token keyword">int64_t</span> <span class="token function">IsPaymentsvout</span><span class="token punctuation">(</span><span class="token keyword">struct</span> <span class="token class-name">CCcontract_info</span> <span class="token operator">*</span>cp<span class="token punctuation">,</span> <span class="token keyword">const</span> CTransaction<span class="token operator">&amp;</span> tx<span class="token punctuation">,</span> <span class="token keyword">int32_t</span> v<span class="token punctuation">,</span> <span class="token keyword">char</span> <span class="token operator">*</span>cmpaddr<span class="token punctuation">,</span> CScript <span class="token operator">&amp;</span>ccopret<span class="token punctuation">)</span>
<span class="token punctuation">{</span>
    <span class="token keyword">char</span> destaddr<span class="token punctuation">[</span><span class="token number">64</span><span class="token punctuation">]</span><span class="token punctuation">;</span>
    <span class="token comment">// use getCCopret instead of the former usage of IsPayToCryptoCondition() function</span>
<span class="token comment">// retrieve the application data from cc vout script pubkey and return it in the `ccopret` reference variable:</span>
    <span class="token keyword">if</span> <span class="token punctuation">(</span> <span class="token function">getCCopret</span><span class="token punctuation">(</span>tx<span class="token punctuation">.</span>vout<span class="token punctuation">[</span>v<span class="token punctuation">]</span><span class="token punctuation">.</span>scriptPubKey<span class="token punctuation">,</span> ccopret<span class="token punctuation">)</span> <span class="token punctuation">)</span>
    <span class="token punctuation">{</span>
        <span class="token keyword">if</span> <span class="token punctuation">(</span> <span class="token function">Getscriptaddress</span><span class="token punctuation">(</span>destaddr<span class="token punctuation">,</span> tx<span class="token punctuation">.</span>vout<span class="token punctuation">[</span>v<span class="token punctuation">]</span><span class="token punctuation">.</span>scriptPubKey<span class="token punctuation">)</span> <span class="token operator">&amp;&amp;</span> <span class="token punctuation">(</span>cmpaddr<span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span> <span class="token operator">==</span> <span class="token number">0</span> <span class="token operator">||</span> <span class="token function">strcmp</span><span class="token punctuation">(</span>destaddr<span class="token punctuation">,</span> cmpaddr<span class="token punctuation">)</span> <span class="token operator">==</span> <span class="token number">0</span><span class="token punctuation">)</span> <span class="token punctuation">)</span>
            <span class="token keyword">return</span><span class="token punctuation">(</span>tx<span class="token punctuation">.</span>vout<span class="token punctuation">[</span>v<span class="token punctuation">]</span><span class="token punctuation">.</span>nValue<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
    <span class="token keyword">return</span><span class="token punctuation">(</span><span class="token number">0</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre></div><p>Note, that if you need to further differentiate the cc outputs in a transaction (for example, from another Antara module vouts) you may also analyze the ccopret content, specifically the eval code stored in it.</p> <p>In place of the <code>IsPayToCryptoCondition()</code> function we can use the <code>getCCopret()</code> function. This latter function is a lower level of the former call, and will return any <code>vData</code> appended to the <code>ccvout</code> along with a <code>true</code>/<code>false</code> value that would otherwise be returned by the <code>IsPayToCryptoCondition()</code> function.</p> <p>In validation, we now have a totally different transaction type than the types that are normally available. This new type allows us to have different validation paths for different <code>ccvouts</code>, and it allows for multiple <code>ccvouts</code> of different types per transaction.</p> <div class="language-cpp extra-class"><pre class="language-cpp"><code><span class="token keyword">if</span> <span class="token punctuation">(</span> tx<span class="token punctuation">.</span>vout<span class="token punctuation">.</span><span class="token function">size</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">==</span> <span class="token number">1</span> <span class="token punctuation">)</span>
<span class="token punctuation">{</span>
    <span class="token comment">// IsPaymentsvout returns application data in the `ccopret` variable, the returned data is checked immediately:</span>
    <span class="token keyword">if</span> <span class="token punctuation">(</span> <span class="token function">IsPaymentsvout</span><span class="token punctuation">(</span>cp<span class="token punctuation">,</span> tx<span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">,</span> coinaddr<span class="token punctuation">,</span> ccopret<span class="token punctuation">)</span> <span class="token operator">!=</span> <span class="token number">0</span> <span class="token operator">&amp;&amp;</span> ccopret<span class="token punctuation">.</span><span class="token function">size</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">&gt;</span> <span class="token number">2</span> <span class="token operator">&amp;&amp;</span> <span class="token function">DecodePaymentsMergeOpRet</span><span class="token punctuation">(</span>ccopret<span class="token punctuation">,</span> createtxid<span class="token punctuation">)</span> <span class="token operator">==</span> <span class="token string">'M'</span> <span class="token punctuation">)</span>
    <span class="token punctuation">{</span>
        fIsMerge <span class="token operator">=</span> <span class="token boolean">true</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span> <span class="token keyword">else</span> <span class="token keyword">return</span><span class="token punctuation">(</span>eval<span class="token operator">-&gt;</span><span class="token function">Invalid</span><span class="token punctuation">(</span><span class="token string">&quot;not enough vouts&quot;</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre></div><h2 id="various-tips-and-tricks-in-antara-module-development"><a href="#various-tips-and-tricks-in-antara-module-development" class="header-anchor">#</a> Various Tips and Tricks in Antara Module Development</h2> <h4 id="test-chain-mining-issue"><a href="#test-chain-mining-issue" class="header-anchor">#</a> Test Chain Mining Issue</h4> <p>On a test chain consisting of two nodes, we do not recommend that you set both nodes to mine. When there are only two nodes, a blockchain struggles more to achieve consensus, and the chain can quickly stop syncing properly. Instead, have only one node mine for the two-node test chain.</p> <h4 id="limits-on-addnormalinputs-function-calls-per-transaction"><a href="#limits-on-addnormalinputs-function-calls-per-transaction" class="header-anchor">#</a> Limits on AddNormalInputs() Function Calls per Transaction</h4> <p>Keep the number of <code>AddNormalInputs()</code> function calls to one for each block of code that creates a transaction.</p> <p>As an example of why we should not exceed more than one call, we can look at the <code>FillSell()</code> function. This function calls <code>AddNormalInputs()</code> two times at once. The first time the <code>AddNormalInputs()</code> function must add a txfee and the second time it adds coins to pay for tokens.</p> <p>Let us suppose we have only two utxos in our wallet, one for <code>9,000,000</code> satoshis and another for <code>10,000</code> satoshis. In this case, when we execute the <code>FillSell()</code> function our large uxto is added during the first call and then we receive an error in the second call, <code>filltx not enough utxos</code>.</p> <p>Instead, we recommend that the developer place only one I think it is always better to combine these calls into a single call.</p> <h4 id="troubleshooting-node-syncing-on-test-cc-chain"><a href="#troubleshooting-node-syncing-on-test-cc-chain" class="header-anchor">#</a> Troubleshooting Node Syncing on Test CC Chain</h4> <p>Sometimes, a developer may find after developing a new CC module that a node cannot sync with other nodes in their test network. Executing the <a href="/basic-docs/smart-chains/smart-chain-api/network.html#getpeerinfo"><b>getpeerinfo</b></a> shows fewer synced blocks than synced heads. The developer may also see errors in the console log on the malfunctioning node.</p> <p>When this happens, the cause is most commonly rooted in the CC module's validation code. For example, the developer may have changed validation rules, and in so doing may have rendered old transactions invalid in the node's state.</p> <p>A quick remedy in this situation is to <a href="/basic-docs/smart-chains/smart-chain-setup/smart-chain-maintenance.html#manually-deleting-blockchain-data">manually delete the blockchain data on the malfunctioning node and resync the network.</a> Old transactions should pass validation, assuming the new validation code takes their situation into account.</p> <p>When resyncing the node is not a viable solution, another option is to use code logging and the gdb debug software to investigate the cause of failure.</p> <p>Yet another solution, if necessary, is to setup the validation code to only be effective after a certain block height. See the following example.</p> <div class="language-cpp extra-class"><pre class="language-cpp"><code><span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token function">strcmp</span><span class="token punctuation">(</span>ASSETCHAINS_SYMBOL<span class="token punctuation">,</span> <span class="token string">&quot;YOURCHAIN&quot;</span><span class="token punctuation">)</span> <span class="token operator">==</span> <span class="token number">0</span> <span class="token operator">&amp;&amp;</span> chainActive<span class="token punctuation">.</span><span class="token function">Height</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">&lt;=</span> <span class="token number">501</span><span class="token punctuation">)</span>
    <span class="token keyword">return</span> <span class="token boolean">true</span><span class="token punctuation">;</span>
</code></pre></div><p>You may also use the hidden <code>reconsiderblock</code> komodo-cli command to restart the malfunctioning node's syncing process at a desired block height.</p> <h4 id="deadlocks-in-validation-code"><a href="#deadlocks-in-validation-code" class="header-anchor">#</a> Deadlocks in Validation Code</h4> <p>If komodod hangs while executing Antara module validation code, consider that some blockchain functions use locks. The combination of your validation code and the locks could be causing deadlocks in the consensus mechanism. If this is the case, use functions that are non-locking instead.</p> <p>For example, the <code>GetTransaction()</code> function is a locking function. Instead, use <code>myGetTransaction()</code> or <code>eval-&gt;GetConfirmed()</code>.</p></div> <footer class="page-edit"><div class="edit-link"><a href="https://github.com/komodoplatform/Documentation/edit/master/docs/basic-docs/antara/antara-tutorials/advanced-series-6.md" target="_blank" rel="noopener noreferrer">Suggest an improvement for this page</a> <svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></div> <!----></footer> <div class="page-nav"><p class="inner"><span class="prev">
      ←
      <a href="/basic-docs/antara/antara-tutorials/advanced-series-5.html" class="prev">
        Advanced Series — Developing the Heir Module Prototype
      </a></span> <span class="next"><a href="/basic-docs/antara/antara-tutorials/dilithium-module-tutorial.html">
        Module Tutorial — Dilithium
      </a>
      →
    </span></p></div> </main></div><div class="global-ui"></div></div>
    <script src="/assets/js/app.1a53fef3.js" defer></script><script src="/assets/js/3.dd471acb.js" defer></script><script src="/assets/js/6.10530d4e.js" defer></script><script src="/assets/js/45.76c68637.js" defer></script>
  </body>
</html>
